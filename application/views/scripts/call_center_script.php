<script>    function set_td_status(status) {        let template = "";        if (status === "Call Forwarded") {            template = $("#templates").find("#template_td_status_green").html();        } else if (status === "Referral triage") {            template = $("#templates").find("#template_td_status_yellow").html();        } else if (status === "Awaiting reply" || status === "Referral not found") {            template = $("#templates").find("#template_td_status_red").html();        }        template = template.replace(/###status###/g, status);        return template;    }    function set_td_action(id, row) {        $(row).attr("data-id", id);        $(row).addClass("call_center_row");        return $("#templates").find("#template_td_action").html();    }    function task_complete(id) {        $("#sample_form").find("#id").val(id);        url = base + "call_center/task_completed";        $.post({            url: url,            data: $("#sample_form").serialize()        }).done(function (response) {            console.log(response);            if (IsJsonString(response)) {                data = JSON.parse(response);                if (data.result === "success") {                    success("Log removed successfully");                    global_data.table_call_center.ajax.reload();                    get_latest_dashboard_counts();                } else {                    error(data.msg);                }            }        });    }    $(document).ready(function () {        $("#li_call_center").addClass("active");        $("table#table_call_center").on("click", ".btn_task_done", function () {            id = $(this).closest(".call_center_row").data("id");            task_complete(id);        });//        $('table#table_call_center').on("click", ".referral_triage_row", function () {//            let id = $(this).data('id');//            location.href = base + "referral_triage/referral_details/" + id;//        });        //  *** Physician Triage Datatable        global_data.table_call_center_title = "Call Center";        global_data.table_call_center = $("#table_call_center").DataTable({            "processing": true,            "serverSide": true,            "order": [],            "autoWidth": false,            "pageLength": 50,            "language": {                "emptyTable": "Call center is empty",                "info": "Showing _START_ to _END_ of _TOTAL_ " + global_data.table_call_center_title,                "infoEmpty": "No results found",                "infoFiltered": "(filtered from _MAX_ total " + global_data.table_call_center_title + ")",                "infoPostFix": "",                "thousands": ",",                "lengthMenu": "Show _MENU_ ",                "loadingRecords": "Loading " + global_data.table_call_center_title,                "processing": "Processing " + global_data.table_call_center_title,                "search": "",                "zeroRecords": "No matching " + global_data.table_call_center_title + " found"            },            "ajax": "<?php echo base_url(); ?>call_center/ssp_call_center",            "rowCallback": function (row, data, index) {                $('td:eq(4)', row).html(                        set_td_status(data[4])                        );                $('td:eq(5)', row).html(                        set_td_action(data[5], row)                        );            },            "dom": get_dom_plan()                    // "drawCallback": set_patients_table,//            "columnDefs": [//                {"width": "25%", "targets": 0},//                {"width": "25%", "targets": 1},//                {"width": "25%", "targets": 2},//                {"width": "25%", "targets": 3}//            ]        });        $("#table_call_center").wrap('<div class="table-responsive"></div>');        // $("#btn_view_add_patient").appendTo("#patients_table_wrapper .button-placeholder");        $(".dataTables_filter input").before('<i class="fa fa-search datatable-search"></i>');        $(".dataTables_filter input").attr('placeholder', 'Search');        //  *** Referral Triage Datatable Over    });</script> 