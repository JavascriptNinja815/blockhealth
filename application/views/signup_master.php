<!DOCTYPE html><html lang="en">    <head>        <meta charset="utf-8">        <meta http-equiv="X-UA-Compatible" content="IE=edge">        <meta name="viewport" content="width=device-width, initial-scale=1">        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->        <title>Sign Up | BlockHealth</title>        <link rel="shortcut icon" type="image/png" href="<?php echo base_url(); ?>assets/img/favicon-32x32.png"/>        <!-- Bootstrap -->        <link rel="stylesheet" href="<?php echo base_url(); ?>assets/css/bootstrap.min.css">        <!-- Custom Stylesheet -->        <link rel="stylesheet" href="<?php echo base_url(); ?>assets/css/style.css">        <style type="text/css">            form .form-bottom .input-error {                border-color: #d03e3e;                color: #d03e3e;            }            form.registration-form fieldset {                display: none;            }        </style>    </head>    <body class="no-nav">        <div class="flex-center">            <div class="flex-content">                <div class="error-container">                    <?php                    if (isset($validation_errors)) {                        echo "<div class='alert alert-danger'>" . $validation_errors . "</div>";                    }                    ?>                </div>                <div id="signup-container" class="sf">                    <img src="<?php echo base_url(); ?>assets/img/logo.png" class="img-responsive">                    <form id="signupForm" class="form-horizontal" method="post" action="<?php echo base_url(); ?>signup/register_new_user" enctype="multipart/form-data">                        <fieldset>                            <div class="form-bottom">                                <div class="form-group">                                    <h3 id="signup-title" class="text-theme">Verify Identity to Sign Up</h3>                                    <hr/>                                    <input type="text" class="form-control" id="signup-first-name" placeholder="First Name" name="signup-first-name">                                </div>                                <div class="form-group">                                    <input type="text" class="form-control" id="signup-last-name" placeholder="Last Name" name="signup-last-name">                                </div>                                <div class="form-group">                                    <input type="text" class="form-control" id="signup-cpso" placeholder="CPSO No." name="signup-cpso">                                </div>                                <div class="form-group">                                    <button type="button" class="btn btn-theme btn-full signup-next btn-next" data-title="Please confirm your identity" data-current="#signup-first" data-target="#signup-second">Next</button>                                </div>                            </div>                        </fieldset>                        <fieldset>                            <div class="form-bottom">                                <h3 id="signup-title" class="text-theme">Please Confirm Your Identity</h3>                                <hr/>                                <div class="col-md-6">                                    <strong><a href="#">Aakef, Mohammad Jamal</a>(#108829)</strong>                                </div>                                <div class="col-md-6">                                    Postgraduate Medical Education University of Toronto 500 University Avenue, Suit 602 Toronto ON M5G 1V7<br/>                                    Phone: 6478858977<br/>                                    <strong><a href="#">Update Address</a></strong>                                </div>                                <div class="col-md-6">                                    <button id="signup-first" type="button" class="btn btn-theme btn-spacious btn-full signup-next btn-next" data-title="Please confirm your identity" data-current="#signup-first" data-target="#signup-second">Confirm</button>                                </div>                                <div class="col-md-6">                                    <button type="button" class="btn btn-theme btn-spacious btn-full signup-next btn-previous" data-title="Please confirm your identity" data-current="#signup-first" data-target="#signup-second">Try Again</button>                                </div>                            </div>                        </fieldset>                        <fieldset>                            <div class="form-bottom">                                <h3 id="signup-title" class="text-theme">Enter Signup Details</h3>                                <hr/>                                <div class="form-group">                                    <input type="email" class="form-control" id="signup-email" placeholder="Email" name="signup-email">                                </div>                                <div class="form-group">                                    <input type="text" class="form-control" id="signup-phone" placeholder="Phone Number" name="signup-phone">                                </div>                                <div class="form-group">                                    <input type="password" class="form-control" id="signup-pw" placeholder="Password" name="signup-pw">                                </div>                                <div class="form-group">                                    <input type="password" class="form-control" id="signup-pw-again" placeholder="Confirm Password" name="signup-pw-again">                                </div>                                <div class="form-group">                                    <button type="button" class="btn btn-theme btn-full signup-next btn-next" data-title="Please confirm your identity" data-current="#signup-first" data-target="#signup-second">Next</button>                                </div>                            </div>                        </fieldset>                        <fieldset>                            <div class="form-bottom">                                <h3 id="signup-title" class="text-theme">Enter Signup Details</h3>                                <hr/>                                <div class="form-group">                                    <div class="profile-picture-container">                                        <div class="upload-image-container ">                                            <div class="dropzone" id="my-dropzone" name="mainFileUploader">                                                <div class="fallback">                                                    <h2 class="profile-picture-icon text-theme">+</h2>                                                    <input type="file" name="profile_image" value="Choose a file" accept="image/*"/>                                                </div>                                            </div>                                        </div>                                    </div>                                </div>                                <div class="form-group">                                    <select id="signup-speciality" placeholder="Speciality" name="signup-speciality" class="form-control">                                        <option disabled selected>Select Speciality</option>                                    </select>                                </div>                                <div class="form-group">                                    <input type="text" class="form-control" id="signup-clinic" placeholder="Clinic or Institution Name" name="signup-clinic">                                </div>                                <div class="form-group">                                    <select id="signup-patients" placeholder="Speciality" name="signup-patients" class="form-control">                                        <option disabled selected>No. of Patients in Practice</option>                                        <option value="1">1 - 49</option>                                        <option value="2">50 - 199</option>                                        <option value="3">200 - 499</option>                                        <option value="4">500 or more</option>                                    </select>                                </div>                                <div class="form-group">                                    <button type="button" class="btn btn-theme btn-full signup-next btn-next" data-title="Enter Signup Details" data-current="#signup-third" data-target="#signup-fourth">Sign up</button>                                </div>                        </fieldset>                </div>                <input type="hidden" name="<?php echo $this->security->get_csrf_token_name(); ?>" value="<?php echo $this->security->get_csrf_hash(); ?>">                </form>                <form id="sample_form">                    <input type="hidden" name="<?php echo $this->security->get_csrf_token_name(); ?>" value="<?php echo $this->security->get_csrf_hash(); ?>">                </form>            </div>        </div>    </div>    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->    <script src="<?php echo base_url(); ?>assets/js/jquery.min.js"></script>    <!-- Include all compiled plugins (below), or include individual files as needed -->    <script src="<?php echo base_url(); ?>assets/js/bootstrap.min.js"></script>    <script src="<?php echo base_url(); ?>assets/js/custom.js"></script>    <script src="<?php echo base_url(); ?>assets/js/jquery.validate.min.js"></script>    <script>        base = "<?php echo base_url(); ?>";        function is_json_string(str) {            try {                JSON.parse(str);            } catch (e) {                return false;            }            return true;        }        function load_specialities() {            form = $("#sample_form");            url = base + "store/fetch_specialities";            data = form.serialize();            $.post({                url: url,                data: data            }).done(function (response) {                if (is_json_string(response)) {                    set_specialities(JSON.parse(response));                }            });        }        function set_specialities(data) {            specialities = "<option disabled selected>Select Speciality</option>";            for (i = 0; i < data.length; i++) {                specialities += "<option value='" + data[i]["id"] + "'>" + data[i]["speciality"] + "</option>";            }            $("#signup-speciality").html(specialities);        }        function load_hospitals() {            form = $("#sample_form");            url = base + "store/fetch_hospitals";            data = form.serialize();            $.post({                url: url,                data: data            }).done(function (response) {                if (is_json_string(response)) {                    set_hospitals(JSON.parse(response));                }            });        }        function set_hospitals(data) {            hospitals = "<option disabled selected>Select Clinic or Institution Name</option>";            for (i = 0; i < data.length; i++) {                hospitals += "<option value='" + data[i]["id"] + "'>" + data[i]["hospital"] + "</option>";            }            $("#signup-clinic").html(hospitals);        }        $(document).ready(function () {            load_specialities();            load_hospitals();            $("#signup-first").on("click", function () {                //validate 3 fields                url = "signup/verify_physician";                data = $("#signupForm").serialize();                $.post({                    url: url,                    data: data                }).done(function (response) {                    if (is_json_string(response)) {                        data = JSON.parse(response);                        if (data[0] == "error") {                            alert(data[1]);                        } else if (data[1].length == 0) {                            alert("No such physician exist in db");                        } else {                            alert("verified\n" + JSON.stringify(data[1]));                        }                    } else {                        alert("Unexpected Error Occured");                    }                });            });        });        //validation for signup form        // $('#signupForm').validate({        //     rules: {        //         "signup-first-name": {        //             required: true,        //             minlength: 4,        //         },        //         "signup-last-name": {        //             required: true,        //             minlength: 4,        //         },        //         "signup-email": {        //             required: true,        //             email: true,        //         },        //         "signup-phone": {        //             required: true,        //             number: true,        //         },        //         "signup-pw": {        //             required: true,        //             minlength: 8,        //         },        //         "signup-pw-again": {        //             equalTo: "#signup-pw",        //         },        //         "signup-cpso": {        //             required: true,        //         },        //         "signup-clinic": {        //             required: true,        //         },        //         "signup-speciality": {        //             required: true,        //         },        //         "signup-patients": {        //             required: true,        //             number: true,        //         },        //     },        //     errorPlacement: function (error, element) {        //         element.parents('.form-group').addClass('has-error');        //         element.after(error);        //     },        //     success: function(label, element) {        //         label.parents('.form-group').removeClass('has-error');        //         label.remove();        //     },        // });        $('.signup-next').click(function (e) {            e.preventDefault();            console.log('wew');            var target = $(this).data('target');            var current = $(this).data('current');            var title = $(this).data('title');            var flag = true;            var inputs = $(current).find('input').each(function () {                if (!$(this).valid()) {                    flag = false;                }            });            if (flag) {                $(current).fadeOut('fast', function () {                    $(target).fadeIn('fast');                    $('#signup-title').text(title);                });            }        });    </script></body></html>