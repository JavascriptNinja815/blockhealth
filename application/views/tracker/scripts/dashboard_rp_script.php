<!--<script src="<?php echo base_url(); ?>assets/theme/js/lib/morris-chart/raphael-min.js"></script><script src="<?php echo base_url(); ?>assets/theme/js/lib/morris-chart/morris.js"></script>--><!-- Page level plugin JavaScript--><script>    $(document).ready(function () {        $("#li_dashboard_rp").addClass("active");        // load_page_info();        // get_graph_data();//         $('#table_clinic_statistics').DataTable();        //  *** Health Records Datatable        global_data.table_clinic_statistics_title = "Referring Physicians Statistics";        global_data.table_clinic_statistics = $("#table_rp_statistics").DataTable({            "responsive": true,            "order": false, //[[ 2, "desc" ]],            "processing": true,            "serverSide": true,            "autoWidth": false,            "language": {                "emptyTable": "There are no " + global_data.table_clinic_statistics_title,                "info": "Showing _START_ to _END_ of _TOTAL_ " + global_data.table_clinic_statistics_title,                "infoEmpty": "No results found",                "infoFiltered": "(filtered from _MAX_ total " + global_data.table_clinic_statistics_title + ")",                "infoPostFix": "",                "thousands": ",",                "lengthMenu": "Show _MENU_ ",                "loadingRecords": "Loading " + global_data.table_clinic_statistics_title,                "processing": "Processing " + global_data.table_clinic_statistics_title,                "search": "",                "zeroRecords": "No matching " + global_data.table_clinic_statistics_title + " found"            },            "ajax": {                "url": base + "admin_dashboard_rp/ssp_rp_statistics",//                "dataSrc":""            },//            "columnDefs": [//                {"width": "50%", "targets": 0},//                {"width": "25%", "targets": 1},//                {"width": "25%", "targets": 2}//            ]        });//        $("#table_health_records").wrap('<div class="table-responsive"></div>');//        // $("#btn_view_add_patient").appendTo("#patients_table_wrapper .button-placeholder");//        $("#table_health_records_wrapper").find(".dataTables_filter input").before('<i class="fa fa-search datatable-search"></i>');//        $("#table_health_records_wrapper").find(".dataTables_filter input").attr('placeholder', 'Search');    });    function load_page_info() {        url = base + "dashboard/get_page_info";        data = $("#form_common").serialize();        $.post({            url: url,            data: data        }).done(function (data) {            data = JSON.parse(data);            tiles_root = $("#tiles");            tiles_root.find("#tile_new_referral").html(data.new_referral);            tiles_root.find("#tile_accepted_referral").html(data.accepted_referrals);            tiles_root.find("#tile_faxes_sent").html(data.faxes_sent);            tiles_root.find("#tile_api_calls").html(data.api_calls);        });    }    function get_graph_data() {        url = base + "dashboard/get_graph_data";        data = $("#form_common").serialize();        $.post({            url: url,            data: data        }).done(function (data) {            data = JSON.parse(data);            labels = [];            console.log(data);            for (i = 0; i < data.new_referral_count.length; i++) {                labels[i] = data.new_referral_count[i].referral_date;            }            new_referral_data = [];            for (i = 0; i < data.new_referral_count.length; i++) {                new_referral_data[i] = parseInt(data.new_referral_count[i].referral_count);            }            accepted_referral_data = [];            for (i = 0; i < data.accepted_data.length; i++) {                accepted_referral_data[i] = parseInt(data.accepted_data[i].referral_count);            }            faxes_sent_data = [];            for (i = 0; i < data.faxes_data.length; i++) {                faxes_sent_data[i] = parseInt(data.faxes_data[i].faxes_sent);            }            data_points_data = [];            for (i = 0; i < data.data_points_data.length; i++) {                data_points_data[i] = parseInt(data.data_points_data[i].data_points);            }            plot_30_day_graph(labels, new_referral_data, accepted_referral_data, faxes_sent_data, data_points_data);        });    }    function plot_30_day_graph(labels, new_referral_data, accepted_referral_data, faxes_sent_data, data_points_data) {//        debugger        // Area Chart        var ctx = document.getElementById("chart_last_30_days");        var myLineChart = new Chart(ctx, {            type: 'line',            data: {                labels: labels,                datasets: [{                        label: "New Referrals",                        lineTension: 0.3,                        backgroundColor: "rgba(2,117,216,0.2)",                        borderColor: "rgba(2,117,216,0.8)",                        pointRadius: 5,                        pointBackgroundColor: "rgba(2,117,216,1)",                        pointBorderColor: "rgba(255,255,255,0.8)",                        pointHoverRadius: 7,                        pointHoverBackgroundColor: "rgba(2,117,216,1)",                        pointHitRadius: 50,                        pointBorderWidth: 1,                        data: new_referral_data                    },                    {                        label: "Accepted Referrals",                        lineTension: 0.3,                        backgroundColor: "rgba(97,150,63,0.2)",                        borderColor: "rgba(97,150,63,1)",                        pointRadius: 5,                        pointBackgroundColor: "rgba(97,150,63,1)",                        pointBorderColor: "rgba(255,255,255,0.8)",                        pointHoverRadius: 5,                        pointHoverBackgroundColor: "rgba(97,150,63,1)",                        pointHitRadius: 50,                        pointBorderWidth: 2,                        data: accepted_referral_data                    },                    {                        label: "Faxes Sent",                        lineTension: 0.3,                        backgroundColor: "rgba(238,158,35,0.2)",                        borderColor: "rgba(238,158,35,1)",                        pointRadius: 5,                        pointBackgroundColor: "rgba(238,158,35,1)",                        pointBorderColor: "rgba(255,255,255,0.8)",                        pointHoverRadius: 5,                        pointHoverBackgroundColor: "rgba(238,158,35,1)",                        pointHitRadius: 50,                        pointBorderWidth: 2,                        data: faxes_sent_data                    },                    {                        label: "Data Points Captured",                        lineTension: 0.3,                        backgroundColor: "rgba(204,47,181,0.2)",                        borderColor: "rgba(204,47,181,1)",                        pointRadius: 5,                        pointBackgroundColor: "rgba(204,47,181,1)",                        pointBorderColor: "rgba(255,255,255,0.8)",                        pointHoverRadius: 5,                        pointHoverBackgroundColor: "rgba(204,47,181,1)",                        pointHitRadius: 50,                        pointBorderWidth: 2,                        data: data_points_data                    }                ]            },            options: {                scales: {                    xAxes: [{                            time: {                                unit: 'date'                            },                            gridLines: {                                display: false                            }                        }],                    yAxes: [{                            ticks: {                                maxTicksLimit: 5                            },                            gridLines: {                                color: "rgba(0, 0, 0, .125)",                            }                        }],                },                legend: {                    display: true                }            }        });    }</script> 